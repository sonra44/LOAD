## СПИСОК ФАЙЛОВ
- QIKI_DTMP/protos/common_types.proto

## Вход и цель
- [Факт] Библиотека общих типов; итог — обзор и рекомендации.

## Сбор контекста
- [Факт] Импортирует `google/protobuf/timestamp.proto`.
- [Гипотеза] Используется во всех протоколах проекта.

## Локализация артефакта
- [Факт] Путь: `QIKI_DTMP/protos/common_types.proto`.

## Фактический разбор
- [Факт] Определены `UUID`, `Vector3`, `SensorType`, `ActuatorType`, `Unit`.
- [Факт] Комментарий к `Vector3` указывает на систему координат.

## Роль в системе и связи
- [Факт] Типы переиспользуются в других протоколах (например, `ActuatorCommand`).
- [Гипотеза] `Unit` обеспечивает стандартизацию измерений.

## Несоответствия и риски
- [Гипотеза][Low] Нет валидации формата `UUID`.
- [Гипотеза][Med] Пустой комментарий о системе координат может привести к разночтениям.

## Мини-патчи (safe-fix)
- [Патч] Уточнить систему координат в комментарии `Vector3`.
- [Патч] Добавить рекомендацию по формату UUID (RFC 4122).

## Рефактор-скетч
```proto
message Vector3 {
  float x = 1; // meters
  float y = 2; // meters
  float z = 3; // meters
}
```

## Примеры использования
1. ```bash
   protoc -I=. --python_out=. QIKI_DTMP/protos/common_types.proto
   ```
2. ```python
   from common_types_pb2 import UUID
   uid = UUID(value="123e4567-e89b-12d3-a456-426614174000")
   ```
3. ```python
   from common_types_pb2 import Vector3
   pos = Vector3(x=1.0, y=0.0, z=0.5)
   ```
4. ```python
   unit = common_types_pb2.Unit.METERS
   ```
5. ```python
   sensor = common_types_pb2.SensorType.LIDAR
   ```

## Тест-хуки/чек-лист
- [Факт] Проверить корректность перечислений `SensorType`/`ActuatorType`.
- [Факт] Валидировать строку `UUID` на соответствие RFC.

## Вывод
1. [Факт] Файл предоставляет базовые типы.
2. [Гипотеза] Недостаёт строгой типизации UUID.
3. [Патч] Уточнить координатную систему `Vector3`.
4. [Факт] Перечисления покрывают основные устройства.
5. [Гипотеза] Возможны расширения для новых единиц.
6. [Патч] Добавить единицы типа `NEWTON`.
7. [Факт] Простая структура облегчает генерацию кода.
8. [Гипотеза] Потребуются валидаторы на стороне клиента.
9. [Патч] Расширить комментарии по использованию.
10. [Факт] Файл готов для повторного использования.

## СПИСОК ФАЙЛОВ
- QIKI_DTMP/protos/common_types.proto
