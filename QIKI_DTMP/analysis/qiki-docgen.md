# СПИСОК ФАЙЛОВ
- scripts/qiki-docgen

## Вход и цель
Разбор оболочечного скрипта генерации документации. Итог — обзор и безопасные улучшения.

## Сбор контекста
- [Факт] Скрипт на bash, запускает Python-модуль `tools.qiki_docgen`.
- [Факт] Определяет `PROJECT_ROOT` и выставляет `PYTHONPATH`.
- [Гипотеза] Используется для автоматической генерации документации.

## Локализация артефакта
- [Факт] Путь: `QIKI_DTMP/scripts/qiki-docgen`.
- [Факт] Требует Python и модуль `tools.qiki_docgen`.

## Фактический разбор
- [Факт] Получает директорию скрипта через `${BASH_SOURCE[0]}`.
- [Факт] Устанавливает `PYTHONPATH` на корень проекта.
- [Факт] Выполняет `python3 -m tools.qiki_docgen "$@"`.
- [Гипотеза] Не обрабатывает отсутствие модуля.

## Роль в системе и связи
- [Факт] Упрощает вызов генератора документации из CLI.
- [Гипотеза] Может использоваться в CI/CD.

## Несоответствия и риски
- [Гипотеза][Low] Отсутствует проверка наличия Python.
- [Гипотеза][Low] Нет опции для виртуального окружения.

## Мини-патчи (safe-fix)
- [Патч] Добавить проверку `command -v python3`.
- [Патч] Вывести сообщение при отсутствии модуля.

## Рефактор-скетч
```bash
if ! command -v python3 >/dev/null; then
  echo "python3 not found" >&2; exit 1; fi
python3 -m tools.qiki_docgen "$@"
```

## Примеры использования
1. ```bash
scripts/qiki-docgen --help
```
2. ```bash
scripts/qiki-docgen docs/input.md > docs/output.md
```
3. ```bash
PYTHONPATH=.. scripts/qiki-docgen
```
4. ```bash
./scripts/qiki-docgen --format pdf
```
5. ```bash
bash scripts/qiki-docgen --verbose
```

## Тест-хуки/чек-лист
- `bash -n scripts/qiki-docgen` проходит без ошибок.
- Проверка реакции на отсутствие Python.
- Тест запуска с несуществующим модулем.

## Вывод
Скрипт минимален и исполняет свою задачу. Рекомендуется добавить базовые проверки окружения. Дальнейшее развитие — интеграция с системой сборки и параметризация форматов.
