# СПИСОК ФАЙЛОВ
- services/q_sim_service/config.yaml

## Вход и цель
[Факт] Конфигурационный файл для Q-Sim Service.
[Гипотеза] Используется при запуске gRPC сервера и симуляции.

## Сбор контекста
[Факт] Содержит параметры `sim_tick_interval`, `sim_sensor_type`, `log_level`.
[Гипотеза] Значения соответствуют настройкам по умолчанию.

## Локализация артефакта
[Факт] Путь: `services/q_sim_service/config.yaml`.
[Гипотеза] Читается функцией `load_config` в `grpc_server.py`.

## Фактический разбор
[Факт] `sim_tick_interval: 1` задаёт интервал тика симуляции.
[Факт] `sim_sensor_type: 1` вероятно соответствует LIDAR.
[Факт] `log_level: INFO` определяет уровень логирования.
[Гипотеза] Дополнительные опции возможны в будущем.

## Роль в системе и связи
[Факт] Файл конфигурации управляет поведением Q-Sim Service.
[Гипотеза] Может быть перезаписан при деплое на разные среды.

## Несоответствия и риски
- Low: [Гипотеза] отсутствие комментариев по диапазону значений.
- Med: [Гипотеза] значение `sim_sensor_type` жёстко кодировано числом.

## Мини-патчи (safe-fix)
[Патч] Добавить описание допустимых значений для `sim_sensor_type`.
[Патч] Вынести уровень логирования в переменную окружения.

## Рефактор-скетч
```yaml
sim_tick_interval: 1
sim_sensor_type: "LIDAR"
log_level: ${LOG_LEVEL:-INFO}
```

## Примеры использования
```bash
# 1. Проверка YAML
cat services/q_sim_service/config.yaml

# 2. Запуск сервиса с конфигом
python services/q_sim_service/grpc_server.py

# 3. Изменение интервала тика
sed -i 's/sim_tick_interval: 1/sim_tick_interval: 2/' services/q_sim_service/config.yaml

# 4. Установка уровня логов
sed -i 's/log_level: INFO/log_level: DEBUG/' services/q_sim_service/config.yaml

# 5. Сравнение с шаблоном
diff -u services/q_sim_service/config.yaml services/q_sim_service/config.md
```

## Тест-хуки/чек-лист
- [Факт] Проверить, что `grpc_server.py` корректно читает файл.
- [Гипотеза] При неверном типе сенсора сервис должен логировать ошибку.

## Вывод
1. [Факт] Файл описывает три параметра симуляции.
2. [Патч] Добавить человеко-читаемые значения для типа сенсора.
3. [Гипотеза] Конфиг может расширяться дополнительными полями.
4. [Факт] `log_level` установлен на INFO.
5. [Гипотеза] В проде может использоваться DEBUG/ERROR.
6. [Факт] Изменение `sim_tick_interval` влияет на скорость симуляции.
7. [Гипотеза] Конфиг читается один раз при старте.
8. [Факт] Примеры показывают редактирование файла.
9. [Гипотеза] Требуется валидация значений.
10. [Факт] Документ служит точкой настройки сервиса.

---
СПИСОК ФАЙЛОВ
- services/q_sim_service/config.yaml
